# 7. æ•´æ•°åè½¬

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/reverse-integer/)

é¢˜ç›®è¦å»ç¯å¢ƒä¸èƒ½å­˜å‚¨64ä½æ•°å­—ï¼Œæ‰€ä»¥å°±ä¸è¦æƒ³ç€ç”¨longç±»å‹å–å·§äº†ã€‚

æ–°å»ºä¸€ä¸ªæ•°å­—`res=0`ï¼Œè·å–åŸæ•°å­—ï¼Œé™¤ä»¥10ï¼Œå°†`res=res*10+ä½™æ•°`ï¼ŒåŸæ•°å­—æ›´æ–°ä¸ºå•†ã€‚ç„¶åé‡å¤æ“ä½œå³å¯ã€‚

å› ä¸ºé¢˜ç›®è¦æ±‚å¦‚æœåè½¬åå¤§äº`int32`èŒƒå›´è¿”å›0ï¼ŒåŒæ—¶æˆ‘ä»¬ä¸èƒ½ç”¨`int64`ç±»å‹ï¼Œé‚£æˆ‘ä»¬åœ¨æ¯æ¬¡è®¡ç®—å‰ï¼Œåˆ¤æ–­ä¸‹æ¬¡è®¡ç®—å‡ºæ¥æ˜¯ä¸æ˜¯ä¼šè¶…å‡ºèŒƒå›´ã€‚

ä¾‹å¦‚ï¼Œ`int32`æœ€å¤§ä¸º`2147483647`ï¼Œé‚£æˆ‘å°±åœ¨è¿™æ¬¡æ“ä½œå‰åˆ¤æ–­ï¼š

- å¦‚æœres>214748364ï¼Œé‚£*10ä¹‹åè‚¯å®š>=2147483650ï¼Œä¸è¡Œï¼›
- å¦‚æœres=214748364ï¼Œä½™æ•°>4ï¼Œ*10+ä½™æ•°ä¹‹åè‚¯å®š>2147483647ï¼Œä¸è¡Œï¼›
- è´Ÿæ•°æƒ…å†µç±»å‹

ä¸Šè¿°æƒ…å†µè¿”å›0å³å¯ã€‚å…¶ä»–å½“åŸæ•°å­—ä¸€ç›´è¢«é™¤åˆ°0å°±åœæ­¢ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun reverse(x: Int): Int {
        var res = 0
        var now = x
        val pMax = Int.MAX_VALUE / 10
        val pMin = Int.MIN_VALUE / 10
        val lMax = Int.MAX_VALUE % 10
        val lMin = Int.MIN_VALUE % 10

        while (true) {
            val next = now / 10
            val last = now % 10
            if (res > pMax ||
                res == pMax && last > lMax ||
                res < pMin ||
                res == pMin && last < lMin
            ) {
                return 0
            }
            now = next
            res = res * 10 + last

            if (now == 0) {
                return res
            }
        }
    }
}
```

ç„¶åå‚è€ƒæœ€å¿«æ—¶é—´çš„ç­”æ¡ˆå‘ç°ï¼Œä¸ç”¨é‚£ä¹ˆéº»çƒ¦ã€‚

æˆ‘ä»¬å·²ç»ä½¿ç”¨çš„æ˜¯intç±»å‹äº†ï¼Œé‚£ç°åœ¨è¾“å…¥çš„æ•°å­—é•¿åº¦ä¸º10çš„æ—¶å€™(intæœ€å¤§çš„æ•°å­—çš„é•¿åº¦)ï¼Œé¦–ä½æ•°å­—åªèƒ½ä¸º1æˆ–2ï¼Œæ‰€ä»¥ï¼š

> å¦‚æœres=214748364ï¼Œä½™æ•°>4ï¼Œ*10+ä½™æ•°ä¹‹åè‚¯å®š>2147483647ï¼Œä¸è¡Œ

è¿™ä¸ªæ¡ä»¶å°±å®Œå…¨æ˜¯ä¸ç”¨è€ƒè™‘çš„ã€‚ç„¶åï¼Œå…³äºè¿™ä¸ªè€ƒè™‘ï¼š

> å¦‚æœres>214748364ï¼Œé‚£*10ä¹‹åè‚¯å®š>=2147483650ï¼Œä¸è¡Œ

å¦‚æœæˆ‘ä»¬*10ä¹‹åè¶…è¿‡intèŒƒå›´å°±æº¢å‡ºäº†ï¼Œæˆ‘ä»¬å¯ä»¥é™¤/10å›æ¥çœ‹ï¼Œæº¢å‡ºçš„/10å›æ¥å°±ä¸ä¸€æ ·äº†ã€‚æ‰€ä»¥æˆ‘ä»¬å°±ä¸ç”¨å­˜é‚£ä¹ˆå¤šæ•°æ®ç”¨æ¥åˆ¤æ–­äº†ã€‚

ä»£ç ä¼˜åŒ–ä¸ºï¼š

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun reverse(x: Int): Int {
        var res = 0
        var now = x

        do {
            if (res * 10 / 10 != res) {
                return 0
            }
            res = res * 10 + now % 10
            now /= 10
        } while (now != 0)
        return res
    }
}
```