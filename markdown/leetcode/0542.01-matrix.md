# 542. 01 çŸ©é˜µ

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/01-matrix/)

## `BFS`+`BP`

ç¬¬ä¸€ç§æƒ³æ³•æ˜¯ï¼Œæˆ‘ä»¬ä»å›¾ä¸­ä»»æ„ä¸€ä¸ª1è¿›è¡ŒBFSï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸€ä¸ª1æˆ‘ä»¬éƒ½èƒ½å¾—åˆ°æœ€è¿‘çš„0çš„è·ç¦»ã€‚

ä½†è¿™ç§åŠæ³•ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œä¸€æ¬¡å¹¿åº¦æœç´¢ï¼Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ã€‚

æˆ‘ä»¬æŠŠè¿™é“é¢˜è½¬æ¢æˆå¤šæºæœç´¢ï¼Œä»æ‰€æœ‰0ä½œä¸ºç¬¬ä¸€å±‚å¼€å§‹æœç´¢ï¼Œæ¯ä¸ªéƒ½å¾€å¤–æœç´¢ï¼Œæ‰¾åˆ°ä½†1å°±æ˜¯è·ç¦»ä¸º1çš„ï¼Œå®Œæˆåç”¨æ–°æ‰¾åˆ°çš„èŠ‚ç‚¹å†ç»§ç»­æœç´¢ï¼Œä¸€ç›´åˆ°æ‰¾ä¸åˆ°æ–°èŠ‚ç‚¹åœæ­¢ã€‚

æ¯æ¬¡æ‰¾åˆ°æ–°èŠ‚ç‚¹ä¸0çš„è·ç¦»ï¼Œå°±æ˜¯åŸèŠ‚ç‚¹ä¸0è·ç¦»çš„+1ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun updateMatrix(mat: Array<IntArray>): Array<IntArray> {
        val x = mat.size
        val y = mat[0].size

        // åˆå§‹å€¼å…¨è®¾ç½®ä¸º-1ï¼Œä»£è¡¨æ²¡æœ‰è®¿é—®è¿‡
        val res = Array(x) { IntArray(y) { -1 } }
        // æœç´¢çš„é˜Ÿåˆ—
        val queue = ArrayDeque<IntArray>()

        for (i in mat.indices) {
            for (j in mat[i].indices) {
                if (mat[i][j] == 0) {
                    res[i][j] = 0
                    // ä»£è¡¨åæ ‡
                    queue.add(intArrayOf(i, j))
                }
            }
        }

        // æœç´¢æ–¹å‘
        val sf = arrayOf(intArrayOf(0, 1), intArrayOf(0, -1), intArrayOf(1, 0), intArrayOf(-1, 0))

        while (queue.isNotEmpty()) {
            val point = queue.removeFirst()
            for (di in sf) {
                val newX = point[0] + di[0]
                val newY = point[1] + di[1]
                if (
                    newX < 0 ||
                    newX >= x ||
                    newY < 0 ||
                    newY >= y ||
                    res[newX][newY] != -1
                ) {
                    continue
                }
                if (mat[newX][newY] == 1) {
                    res[newX][newY] = res[point[0]][point[1]] + 1
                    queue.add(intArrayOf(newX, newY))
                }
            }
        }

        return res
    }
}
```
