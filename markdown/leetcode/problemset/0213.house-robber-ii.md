# 213. æ‰“å®¶åŠ«èˆ II

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/house-robber-ii/)

åŠ¨æ€è§„åˆ’ã€‚

å‚è€ƒ[é¢˜198](0198.house-robber.md)ï¼Œç”±ä¹‹å‰æ¨å¯¼çš„å…¬å¼ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼Œåœ¨ä¸é—­ç¯çš„æˆ¿å±‹ä¸‹ï¼š

`dp[i]=nums[i]+max(dp[i-2], dp[i-3])`

å­˜åœ¨é—­ç¯çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å‡è®¾ç¬¬ä¸€é—´ä¸å·å’Œæœ€åä¸€é—´ä¸å·çš„æƒ…å†µï¼Œè¿›è¡Œä¸¤æ¬¡åŠ¨æ€è§„åˆ’ï¼Œå–å…¶æœ€å¤§å€¼ã€‚

æ³¨æ„é•¿åº¦ä¸º1çš„æƒ…å†µå•ç‹¬åˆ¤æ–­ã€‚

```kotlin
import kotlin.math.max

/**
 * @author Yananart
 */
class Solution {
    fun rob(nums: IntArray): Int {
        if (nums.size == 1) {
            return nums[0]
        }
        var max = 0
        var dp = IntArray(nums.size)
        var now: Int
        // ç¬¬ä¸€é—´ä¸å·
        for (index in 1 until nums.size) {
            now = if (index < 2) {
                nums[index]
            } else if (index == 2) {
                nums[index] + dp[0]
            } else {
                nums[index] + max(dp[index - 2], dp[index - 3])
            }
            dp[index] = now
            if (now > max) {
                max = now
            }
        }

        dp = IntArray(nums.size)
        // æœ€åä¸€é—´ä¸å·
        for (index in 0 until nums.size - 1) {
            now = if (index < 2) {
                nums[index]
            } else if (index == 2) {
                nums[index] + dp[0]
            } else {
                nums[index] + max(dp[index - 2], dp[index - 3])
            }
            dp[index] = now
            if (now > max) {
                max = now
            }
        }
        return max
    }
}
```
