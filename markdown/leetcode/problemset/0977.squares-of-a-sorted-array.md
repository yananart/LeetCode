# 977. æœ‰åºæ•°ç»„çš„å¹³æ–¹

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/squares-of-a-sorted-array/)

é¢˜ç›®è¦æ±‚`O(n)`ï¼ŒåŒæŒ‡é’ˆå®ç°ï¼Œæ‰¾åˆ°ä¸­é—´ä½ç½®ï¼Œä¸¤ä¸ªæŒ‡é’ˆå¾€ä¸¤è¾¹ç§»åŠ¨å¯»æ‰¾ç»å¯¹å€¼è¾ƒå°çš„æ•°å³å¯ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun sortedSquares(nums: IntArray): IntArray {
        val size = nums.size
        val ans = ArrayList<Int>(size)
        // å…¨æ˜¯å¤§äºç­‰äº0å’Œå…¨æ˜¯å°äºç­‰äº0çš„å•ç‹¬å¤„ç†äº†ä¸‹
        if (nums.first() >= 0) {
            for (item in nums) {
                ans.add(item * item)
            }
        } else if (nums.last() <= 0) {
            for (index in size - 1 downTo 0) {
                ans.add(nums[index] * nums[index])
            }
        } else {
            var posIndex = size
            var negIndex = -1
            for (index in 0 until size - 1) {
                if (nums[index] == 0) {
                    ans.add(0)
                    posIndex = index + 1
                    negIndex = index - 1
                    break
                } else if (nums[index] < 0 && nums[index + 1] > 0) {
                    posIndex = index + 1
                    negIndex = index
                    break
                }
            }
            while (posIndex != size || negIndex != -1) {
                if (posIndex == size) {
                    ans.add(nums[negIndex] * nums[negIndex])
                    negIndex--
                } else if (negIndex == -1) {
                    ans.add(nums[posIndex] * nums[posIndex])
                    posIndex++
                } else {
                    if (-nums[negIndex] <= nums[posIndex]) {
                        ans.add(nums[negIndex] * nums[negIndex])
                        negIndex--
                    } else {
                        ans.add(nums[posIndex] * nums[posIndex])
                        posIndex++
                    }
                }
            }
        }
        return ans.toIntArray()
    }
}
```

è¿˜æ˜¯åŒæŒ‡é’ˆï¼Œæ¢ä¸€ç§å†™æ³•ï¼Œä»ä¸¤å¤´å¼€å§‹å¾€ä¸­é—´æ‰¾ï¼Œå–ç»å¯¹å€¼è¾ƒå¤§çš„ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun sortedSquares(nums: IntArray): IntArray {
        val size = nums.size
        val ans = IntArray(size) { 0 }
        val square = Array(size) { nums[it] * nums[it] }
        var left = 0
        var right = size - 1
        var index = size - 1
        while (left <= right) {
            if (square[left] >= square[right]) {
                ans[index] = square[left]
                left++
            } else {
                ans[index] = square[right]
                right--
            }
            index--
        }
        return ans
    }
}
```