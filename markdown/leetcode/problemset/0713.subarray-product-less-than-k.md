# 713. ä¹˜ç§¯å°äºKçš„å­æ•°ç»„

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/subarray-product-less-than-k/)

æ»‘åŠ¨çª—å£ã€‚å½“æ•°ç»„å†…ä¹˜ç§¯å°äºç­‰äºç›®æ ‡å€¼ï¼Œå¯ä»¥å°è¯•å†åŠ å³è¾¹ä¸€ä¸ªï¼Œå¦‚æœå¤§äºï¼Œéœ€è¦ç§»é™¤æœ€å·¦è¾¹ä¸€ä¸ªã€‚

ç‰¹æ®Šæƒ…å†µï¼Œå¦‚æœå­æ•°ç»„å¤§å°==1ï¼Œä½†å†…å®¹è¿˜å¤§äºç›®æ ‡å€¼ï¼ŒåŒºé—´ç›´æ¥å¾€å³ç§»åŠ¨ã€‚

æ¯æ¬¡ç§»åŠ¨å³åŒºé—´å‰ï¼Œè¿›è¡Œè®¡æ•°ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun numSubarrayProductLessThanK(nums: IntArray, k: Int): Int {
        var left = 0
        var right = 1
        var res = 0
        while (right <= nums.size) {
            if (nums.isSubOk(left, right, k)) {
                res += right - left
                right++
            } else {
                left++
                if (right <= left) {
                    right++
                }
            }
        }
        return res
    }

    private fun IntArray.isSubOk(left: Int, right: Int, limit: Int): Boolean {
        var res = 1L
        for (index in left until right) {
            res *= this[index]
            if (res >= limit) {
                return false
            }
        }
        return true
    }
}
```
