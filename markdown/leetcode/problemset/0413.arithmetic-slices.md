# 413. ç­‰å·®æ•°åˆ—åˆ’åˆ†

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/arithmetic-slices/)

åŠ¨æ€è§„åˆ’ã€‚

å‡å®š`dp[i][j]`æ˜¯ä¸‹æ ‡iåˆ°jæ˜¯å¦ä¸ºç­‰å·®æ•°ç»„ï¼Œåˆå§‹æ¡ä»¶ä¸ºåˆ¤æ–­`dp[i][i+2]`æ˜¯ç­‰å·®æ•°ç»„ä¸ºTrueï¼Œä¸æ˜¯ä¸ºFalseã€‚

è½¬ç§»æ–¹ç¨‹ï¼š`dp[i][j]=dp[i][j-1] && æ–°æ•°å­—å¯ç­‰å·®`ã€‚

éå†æ‰€æœ‰è®¡æ•°ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun numberOfArithmeticSlices(nums: IntArray): Int {
        val dp = Array(nums.size) { BooleanArray(nums.size) }
        var sum = 0
        for (i in 0 until nums.size - 2) {
            if (nums[i] - nums[i + 1] == nums[i + 1] - nums[i + 2]) {
                dp[i][i + 2] = true
                sum++
            }
        }
        for (i in 0 until nums.size - 3) {
            for (j in i + 3 until nums.size) {
                dp[i][j] = dp[i][j - 1] && nums[j] - nums[j - 1] == nums[j - 1] - nums[j - 2]
                if (dp[i][j]) {
                    sum++
                }
            }
        }
        return sum
    }
}
```
