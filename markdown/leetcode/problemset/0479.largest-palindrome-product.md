# 479. æœ€å¤§å›æ–‡æ•°ä¹˜ç§¯

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/largest-palindrome-product/)

æšä¸¾ + æ•°å­¦

å‚ç…§["å®«æ°´ä¸‰å¶"é¢˜è§£](https://leetcode-cn.com/problems/largest-palindrome-product/solution/by-ac_oier-t8j7/)

å¯¹äºæ•°ä½ä¸ºnçš„ä¸¤ä¸ªæ•°è€Œè¨€ï¼Œå…¶ä¹˜ç§¯çš„ä½æ•°è¦ä¹ˆæ˜¯`2âˆ—n`ï¼Œè¦ä¹ˆæ˜¯`2âˆ—nâˆ’1`ã€‚

å½“æ•°ä½`n>1`æ—¶ï¼Œæˆ‘ä»¬æ€»èƒ½åœ¨æ•°ä½ä¸º`2âˆ—n`ä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚

åˆ©ç”¨å›æ–‡ä¸²çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬åªéœ€æšä¸¾å›æ–‡ä¸²çš„å‰åŠéƒ¨åˆ†å³å¯ï¼ˆååŠéƒ¨åˆ†å”¯ä¸€ç¡®å®šï¼‰ï¼Œæˆ‘ä»¬åªè¦åœ¨æšä¸¾å‰åŠéƒ¨åˆ†æ—¶æŒ‰ç…§"ä»å¤§åˆ°å°"è¿›è¡Œï¼Œå³å¯ç¡®ä¿æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªåˆæ³•å€¼ä¸ºæœ€å¤§æ•°ï¼Œå¯¹äºä¸€ä¸ªæ•°ä½ä¸º`n`çš„æœ€å¤§æ•°ä¸º`10^n-1`

å…·ä½“çš„ï¼Œå½“æšä¸¾åˆ°å›æ–‡ä¸²çš„å‰åŠéƒ¨åˆ†`i`æ—¶ï¼Œæˆ‘ä»¬åˆ©ç”¨å›æ–‡ä¸²ç‰¹æ€§æ„é€ å‡ºå…·å®é™…çš„å›æ–‡æ•°å€¼`nums`ï¼Œéšåæ£€æŸ¥`nums`èƒ½å¦åˆ†è§£æˆæ•°ä½ä¸º`n`çš„æ•°å¯¹`(a,b)`ï¼Œåˆ©ç”¨ä¹˜æ³•å…·æœ‰äº¤æ¢å¾‹ï¼Œæˆ‘ä»¬åªéœ€è¦æšä¸¾æ•°å¯¹ä¸­çš„è¾ƒå¤§æ•°å³å¯ã€‚

```kotlin
import kotlin.math.pow

/**
 * @author Yananart
 */
class Solution {
    fun largestPalindrome(n: Int): Int {
        if (n == 1) return 9
        val max = 10.0.pow(n).toInt() - 1
        for (i in max downTo 0) {
            var num = i.toLong()
            var t = i.toLong()
            // åˆ›å»ºå›æ–‡æ•°
            while (t != 0L) {
                num = num * 10 + (t % 10)
                t /= 10
            }
            // æ£€æŸ¥å›æ–‡æ•°èƒ½å¦è¡¨ç¤ºä¸ºä¸¤ä¸ªæ•°çš„ä¹˜ç§¯: a * b = palindrome
            var j = max.toLong()
            while (j * j >= num) {
                if (num % j == 0L) return (num % 1337).toInt()
                j--
            }
        }
        return -1
    }
}
```