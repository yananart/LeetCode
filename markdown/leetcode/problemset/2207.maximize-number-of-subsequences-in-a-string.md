# 2207. å­—ç¬¦ä¸²ä¸­æœ€å¤šæ•°ç›®çš„å­å­—ç¬¦ä¸²

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/maximize-number-of-subsequences-in-a-string/)

è´ªå¿ƒã€‚

åœ¨åŸå­—ç¬¦ä¸²ä¸­å…ˆæ‰¾åˆ°æœ‰å¤šå°‘ä¸ªå­åºåˆ—ï¼Œç„¶ååˆ¤æ–­å¾€å…¶ä¸­åŠ ä¸€ä¸ªå­—ç¬¦æ—¶ä¼šå¢åŠ çš„åºåˆ—ï¼š

- ç¬¬ä¸€ä¸ªå­—ç¬¦åŠ åœ¨æœ€å·¦è¾¹å¢åŠ å­åºåˆ—æœ€å¤šï¼Œå¢åŠ åŸå­—ç¬¦ä¸²ä¸­ç¬¬äºŒæ¬¡å­—ç¬¦çš„ä¸ªæ•°ï¼›
- ç¬¬äºŒä¸ªå­—ç¬¦åŠ åœ¨æœ€å³è¾¹å¢åŠ å­åºåˆ—æœ€å¤šï¼Œå¢åŠ åŸå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å­—ç¬¦çš„ä¸ªæ•°
- è¿”å›å¢åŠ çš„å­åºåˆ—å¤šçš„æƒ…å†µ

æ³¨æ„å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦å’Œç¬¬äºŒä¸ªå­—ç¬¦ç›¸åŒæ—¶å•ç‹¬è®¡ç®—ä¸€ä¸‹åŸå­åºåˆ—ä¸ªæ•°ï¼Œæ­¤æ—¶åŠ å·¦åŠ å³æ˜¯ä¸€æ ·çš„ã€‚

```kotlin
import kotlin.math.max

/**
 * @author Yananart
 */
class Solution {
    fun maximumSubsequenceCount(text: String, pattern: String): Long {
        val front = pattern[0]
        val back = pattern[1]
        return if (front == back) {
            // ä¸¤ä¸ªä¸€æ ·ï¼Œç›´æ¥è®¡ç®—ç»„åˆæ•°å°±è¡Œ
            var num = 0L
            var sum = 0L
            for (ch in text.toCharArray()) {
                if (ch == front) {
                    num++
                    sum += num
                }
            }
            sum
        } else {
            // å‰åä¸¤ä¸ªå­—ç¬¦çš„æ•°é‡
            var frontNum = 0L
            var backNum = 0L
            // åŸå­åºåˆ—ä¸ªæ•°
            var sum = 0L

            for (ch in text.toCharArray()) {
                if (ch == front) {
                    frontNum++
                }
                if (ch == back) {
                    sum += frontNum
                    backNum++
                }
            }

            sum + max(frontNum, backNum)
        }
    }
}
```
