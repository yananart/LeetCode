# 2100. é€‚åˆæ‰“åŠ«é“¶è¡Œçš„æ—¥å­

- [ğŸ”—é¢˜ç›®é“¾æ¥](https://leetcode-cn.com/problems/find-good-days-to-rob-the-bank/)

ä¸¤ä¸ªç®—æ³•æ—¶é—´å¤æ‚åº¦å‡ä¸º`O(n)`

## åŠ¨æ€è§„åˆ’

å»ºä¸€ä¸ªæ•°ç»„ï¼Œè®°å½•æ¯å¤©å‰é¢æœ‰è¿ç»­å¤šå°‘çš„éé€’å¢æ—¥å­æ•° nonIncDays[]

- åˆå§‹å€¼ï¼Œ`nonIncDays[0]=0`ï¼›
- è½¬ç§»æ–¹ç¨‹ï¼š
    - å¦‚æœ`security[i]<=security[i-1]`ï¼Œé‚£ä¹ˆ`nonIncDays[i]=nonIncDays[i-1]+1`ï¼›
    - å¦åˆ™ï¼Œ`nonIncDays[i]=0`

å»ºä¸€ä¸ªæ•°ç»„ï¼Œè®°å½•æ¯å¤©åé¢æœ‰è¿ç»­å¤šå°‘çš„éé€’å‡æ—¥å­æ•° nonDecDays[]

- åˆå§‹å€¼ï¼Œ`nonDecDays[lastDay]=0`ï¼›
- è½¬ç§»æ–¹ç¨‹ï¼š
    - å¦‚æœ`security[i]<=security[i+1]`ï¼Œé‚£ä¹ˆ`nonDecDays[i]=nonDecDays[i+1]+1`ï¼›
    - å¦åˆ™ï¼Œ`nonDecDays[i]=0`

æœ€åéå†æ¯ä¸€å¤©`day`ï¼Œå¦‚æœ`nonIncDays[day]>=time`ä¸”`nonDecDays[day]>=time`ï¼Œé‚£ä¹ˆ`day`å°±æ˜¯ç¬¦åˆæ¡ä»¶çš„ä¸€å¤©ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun goodDaysToRobBank(security: IntArray, time: Int): List<Int> {
        // å‰é¢æœ‰éé€’å¢çš„æ—¥å­æ•°
        val nonIncDays = Array(security.size) { 0 }
        for (day in 1 until security.size - 1) {
            if (security[day] <= security[day - 1]) {
                nonIncDays[day] = nonIncDays[day - 1] + 1
            }
        }

        // åé¢æœ‰éé€’å‡çš„æ—¥å­æ•°
        val nonDecDays = Array(security.size) { 0 }
        for (day in security.size - 2 downTo 0) {
            if (security[day] <= security[day + 1]) {
                nonDecDays[day] = nonDecDays[day + 1] + 1
            }
        }

        val robDays = ArrayList<Int>(0)
        for (day in security.indices) {
            if (nonIncDays[day] >= time && nonDecDays[day] >= time) {
                robDays.add(day)
            }
        }
        return robDays
    }
}
```

## å‰ç¼€å’Œ

å…¶å®æœ¬è´¨å’Œä¸Šé¢çš„åŠ¨æ€è§„åˆ’ç±»ä¼¼ï¼Œå®ç°äº†ç›¸åŒçš„æ•ˆæœã€‚

æˆ‘ä»¬æ–°å»ºä¸¤ä¸ªæ•°ç»„ï¼š

- ä¸€ä¸ªä»£è¡¨ç›®å‰å·²å‡ºç°é€’å¢æ—¥æœŸçš„æ•°é‡ `incTotal[]`
- ä¸€ä¸ªä»£è¡¨ç›®å‰å·²å‡ºç°é€’å‡æ—¥æœŸçš„æ•°é‡ `decTotal[]`

éå†æ¯ä¸€å¤©`day`ï¼Œå¦‚æœ`incTotal[day]==incTotal[day-time]`ä¸”`decTotal[day]==decTotal[day+time]`ï¼Œé‚£ä¹ˆ`day`å°±æ˜¯ç¬¦åˆæ¡ä»¶çš„ä¸€å¤©ã€‚

ç¤ºä¾‹è¯´æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆå–`incTotal[day]==incTotal[day-time]`ï¼š

- `day-time`å¤©åˆ°`day`å¤©å°±æ˜¯éš”äº†`time`å¤©ï¼›
- `incTotal[day]`ä»£è¡¨ç¬¬`day`å‰é¢ä¸€å…±æœ‰å¤šå°‘å¤©é€’å¢çš„æ—¥å­ï¼Œ`incTotal[day-time]`ä»£è¡¨ç¬¬`day-time`å‰é¢ä¸€å…±æœ‰å¤šå°‘å¤©é€’å¢çš„æ—¥å­ï¼›
- `incTotal[day]==incTotal[day-time]`è¯´æ˜è¿™ä¸¤å¤©å‰é¢å‡ºç°é€’å¢çš„æ—¥å­æ•°ç›¸åŒï¼Œé‚£å°±è¯´æ˜è¿™æ®µæ—¶é—´å…¨éƒ½æ˜¯éé€’å‡çš„ï¼Œå³ç¬¦åˆéé€’å‡çš„è¦æ±‚

`decTotal[day]==decTotal[day+time]`é€»è¾‘ç›¸åŒã€‚

ç”±äºæˆ‘ä»¬æŒ‰`time`æ—¥å­èŒƒå›´åšåˆ¤æ–­ï¼Œæ‰€ä»¥ä¹Ÿåªè¦éå†`[time,security.size-time)`è¿™äº›å¤©å°±å¥½äº†ã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun goodDaysToRobBank(security: IntArray, time: Int): List<Int> {
        // å·²å‡ºç°é€’å¢æ—¥æœŸçš„æ•°é‡
        val incTotal = Array(security.size) { 0 }
        // å·²å‡ºç°é€’å‡æ—¥æœŸçš„æ•°é‡
        val decTotal = Array(security.size) { 0 }

        for (day in 1 until security.size) {
            if (security[day] > security[day - 1]) {
                incTotal[day] = incTotal[day - 1] + 1
                decTotal[day] = decTotal[day - 1]
            } else if (security[day] < security[day - 1]) {
                incTotal[day] = incTotal[day - 1]
                decTotal[day] = decTotal[day - 1] + 1
            } else {
                incTotal[day] = incTotal[day - 1]
                decTotal[day] = decTotal[day - 1]
            }
        }

        val robDays = ArrayList<Int>(0)
        for (day in time until security.size - time) {
            if (incTotal[day] == incTotal[day - time] && decTotal[day] == decTotal[day + time]) {
                robDays.add(day)
            }
        }
        return robDays
    }
}
```
