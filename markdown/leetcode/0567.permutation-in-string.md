# 567. å­—ç¬¦ä¸²çš„æŽ’åˆ—

- [ðŸ”—é¢˜ç›®é“¾æŽ¥](https://leetcode-cn.com/problems/permutation-in-string/)

æ»‘åŠ¨çª—å£ã€‚

å…ˆç¡®è®¤`s1`çš„å„ä¸ªå­—æ¯çš„æ•°é‡ï¼Œç”±äºŽåœ¨`s2`ä¸­å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„å­ä¸²ï¼Œè‚¯å®šéœ€è¦æ»¡è¶³é•¿åº¦å’Œ`s1`ä¸€è‡´ï¼Œé‚£æˆ‘ä»¬éœ€è¦éåŽ†çš„å­ä¸²çš„æ˜¯å›ºå®šçš„ã€‚

æˆ‘ä»¬éåŽ†å„ä¸ªå­ä¸²ï¼Œåˆ¤æ–­å­ä¸²çš„å„ä¸ªå­—æ¯æ•°é‡æ˜¯å¦ä¸Ž`s1`çš„ä¸€è‡´ï¼Œå­˜åœ¨ä¸€è‡´å°±è¿”å›ž`true`ï¼Œå½“éåŽ†ç»“æŸæ—¶ä¹Ÿæ²¡æœ‰æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å°±è¿”å›ž`false`ã€‚

æˆ‘ä»¬é€šè¿‡çª—å£æ»‘åŠ¨éåŽ†æ‰€æœ‰é•¿åº¦ä¸€è‡´çš„å­ä¸²ï¼Œå¦‚é¢˜ä¾‹ä¸­ï¼Œé¦–å…ˆå°†`left`è®¾ä¸º0ï¼Œ`right`è®¾ä¸º1ï¼Œç„¶åŽä¸æ–­å°†ä¸¤ä¸ªä¸‹æ ‡å¾€å³ç§»åŠ¨ã€‚

å¦‚ä¸‹ï¼Œåˆå§‹æ—¶çŠ¶æ€å–åˆ°çš„å­ä¸²ä¸º`ei`ï¼š

| e    | i     | d   | b   | a   | o   | o   | o   |
|------|-------|-----|-----|-----|-----|-----|-----|
| left | right | -   | -   | -   | -   | -   | -   |

ç§»åŠ¨ä¸€æ¬¡åŽå˜ä¸º`id`ï¼Œä½ç½®å¦‚ä¸‹ï¼š

| e   | i    | d     | b   | a   | o   | o   | o   |
|-----|------|-------|-----|-----|-----|-----|-----|
| -   | left | right | -   | -   | -   | -   | -   |

å¦‚æ­¤ä¸€ç›´ç§»åŠ¨ä¸€ç›´å¯åˆ°æœ€åŽï¼š

| e   | i   | d   | b   | a   | o   | o    | o     |
|-----|-----|-----|-----|-----|-----|------|-------|
| -   | -   | -   | -   | -   | -   | left | right |

æˆ‘ä»¬æ¯æ¬¡å–åˆ°çš„å­ä¸²ï¼Œå¦‚æžœå„ä¸ªå­—ç¬¦æ•°é‡ä¸Ž`s1`ä¸€è‡´å³å¯ã€‚

**ä¼˜åŒ–**
ï¼šå¦‚æžœæˆ‘ä»¬æ¯æ¬¡å–åˆ°å­ä¸²ï¼Œæ¯æ¬¡éƒ½ç»Ÿè®¡å­ä¸²çš„å­—æ¯æ•°é‡ï¼Œå…¶å®žé€ æˆäº†å¾ˆå¤šæµªè´¹ï¼Œä¸€ä¸ªå­—ç¬¦è¢«ç»Ÿè®¡äº†å¥½å¤šæ¬¡ã€‚å…¶å®žæˆ‘ä»¬åœ¨æ¯æ¬¡çª—å£çª—å£ç§»åŠ¨æ—¶ï¼Œå…¶å®žå°†ä¸Šä¸ªå­ä¸²ä¸­æœ€å·¦çš„å­—ç¬¦ç»™ç§»é™¤äº†ï¼Œå¼•å…¥äº†å³è¾¹çš„æ–°çš„ä¸€ä¸ªå­—ç¬¦ã€‚é‚£æˆ‘ä»¬å…¶å®žå¯ä»¥åœ¨åŽŸæ¥å­ä¸²ç»Ÿè®¡çš„åŸºç¡€ä¸Šï¼Œå°†ç§»é™¤çš„å­—æ¯æ•°é‡--ï¼Œæ–°å¢žçš„å­—æ¯æ•°é‡++ï¼Œå°±å¾—åˆ°äº†æ–°çš„ç»Ÿè®¡ç»“æžœã€‚

```kotlin
/**
 * @author Yananart
 */
class Solution {
    fun checkInclusion(s1: String, s2: String): Boolean {
        if (s1.length > s2.length) {
            return false
        }

        val s1LetterSum = countLetter(s1)
        var left = 0
        var right = s1.length
        val nowLetterSum = countLetter(s2.substring(left, right))

        if (s1LetterSum.contentEquals(nowLetterSum)) {
            return true
        }

        while (right < s2.length) {
            nowLetterSum[s2[left] - 'a'] -= 1
            nowLetterSum[s2[right] - 'a'] += 1
            if (s1LetterSum.contentEquals(nowLetterSum)) {
                return true
            }
            left++
            right++
        }

        return false
    }

    /**
     * ç»Ÿè®¡ä¸€ä¸ªå­—ç¬¦ä¸²å„ä¸ªå­—æ¯æ•°é‡
     */
    private fun countLetter(s: String): Array<Int> {
        val letterSum = Array(26) { 0 }
        for (ch in s.toCharArray()) {
            letterSum[ch - 'a'] += 1
        }
        return letterSum
    }
}
```
